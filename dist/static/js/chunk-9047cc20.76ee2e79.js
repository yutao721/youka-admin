(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9047cc20","chunk-4c092ef8","chunk-6eadb27f","chunk-2d0e457b","chunk-2d21ab92"],{"0839":function(e,t,r){e.exports=r.p+"static/img/bg.fcb5c96d.png"},"21f2":function(e,t,r){"use strict";r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return l}));var n=r("24e5"),o=r.n(n),i="MFwwDQYJKoZIhvcNAQEBBQADSwAwSAJBAKoR8mX0rGKLqzcWmOzbfj64K8ZIgOdH\nnzkXSOVOZbFu/TJhZ7rFAN+eaGkl3C4buccQd/EjEsj9ir7ijT7h96MCAwEAAQ==",a="MIIBVAIBADANBgkqhkiG9w0BAQEFAASCAT4wggE6AgEAAkEAqhHyZfSsYourNxaY\n7Nt+PrgrxkiA50efORdI5U5lsW79MmFnusUA355oaSXcLhu5xxB38SMSyP2KvuKN\nPuH3owIDAQABAkAfoiLyL+Z4lf4Myxk6xUDgLaWGximj20CUf+5BKKnlrK+Ed8gA\nkM0HqoTt2UZwA5E2MzS4EI2gjfQhz5X28uqxAiEA3wNFxfrCZlSZHb0gn2zDpWow\ncSxQAgiCstxGUoOqlW8CIQDDOerGKH5OmCJ4Z21v+F25WaHYPxCFMvwxpcw99Ecv\nDQIgIdhDTIqD2jfYjPTY8Jj3EDGPbH2HHuffvflECt3Ek60CIQCFRlCkHpi7hthh\nYhovyloRYsM+IS9h/0BzlEAuO0ktMQIgSPT3aFAgJYwKpqRYKlLDVcflZFCKY7u3\nUP8iWi1Qw0Y=";function s(e){var t=new o.a;return t.setPublicKey(i),t.encrypt(e)}function l(e){var t=new o.a;return t.setPrivateKey(a),t.decrypt(e)}},"259b":function(e,t){e.exports={title:"后台管理系统",baseUrl:"http://localhost:9018",baseApi:"/dev-api",APPID:"xxx",APPSECRET:"xxx",$cdn:"https://www.sunniejs.cn/static"}},"6c2f":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-form",{ref:"registerForm",staticClass:"register-form",attrs:{model:e.registerForm,rules:e.registerRules}},[r("el-form-item",{attrs:{prop:"username"}},[r("el-input",{attrs:{type:"text",clearable:"",placeholder:"账号"},model:{value:e.registerForm.username,callback:function(t){e.$set(e.registerForm,"username",t)},expression:"registerForm.username"}},[r("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"user"},slot:"prefix"})],1)],1),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{type:"password",clearable:"","show-password":"",placeholder:"密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleRegister(t)}},model:{value:e.registerForm.password,callback:function(t){e.$set(e.registerForm,"password",t)},expression:"registerForm.password"}},[r("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"password"},slot:"prefix"})],1)],1),r("el-form-item",{attrs:{prop:"confirmPassword"}},[r("el-input",{attrs:{type:"password",clearable:"","show-password":"",placeholder:"确认密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleRegister(t)}},model:{value:e.registerForm.confirmPassword,callback:function(t){e.$set(e.registerForm,"confirmPassword",t)},expression:"registerForm.confirmPassword"}},[r("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"password"},slot:"prefix"})],1)],1),e.captchaEnabled?r("el-form-item",{attrs:{prop:"code"}},[r("el-input",{staticStyle:{width:"63%"},attrs:{clearable:"",placeholder:"验证码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleRegister(t)}},model:{value:e.registerForm.code,callback:function(t){e.$set(e.registerForm,"code",t)},expression:"registerForm.code"}},[r("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"validCode"},slot:"prefix"})],1),r("div",{staticClass:"login-code"},[r("ReImageVerify",{ref:"ReImageVerify",attrs:{code:e.imgCode},on:{"update:code":function(t){e.imgCode=t}}})],1)],1):e._e(),r("el-form-item",{staticStyle:{width:"100%"}},[r("el-button",{staticStyle:{width:"100%"},attrs:{loading:e.loading,size:"medium",type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleRegister(t)}}},[e.loading?r("span",[e._v("注 册 中...")]):r("span",[e._v("注 册")])]),r("div",{staticStyle:{float:"right"}},[r("el-button",{attrs:{type:"text"},on:{click:e.handleBack}},[e._v("使用已有账户登录")])],1)],1)],1)],1)},o=[],i=r("7ded"),a=r("f5d7"),s=r("908f"),l={components:{ReImageVerify:a["a"]},data:function(){var e=this,t=function(t,r,n){e.registerForm.password!==r?n(new Error("两次输入的密码不一致")):n()},r=function(t,r,n){e.imgCode!==r?n(new Error("请输入正确的验证码")):n()};return{imgCode:"",registerForm:{username:"",password:"",confirmPassword:"",code:"",uuid:""},registerRules:{username:[{required:!0,trigger:"blur",message:"请输入您的账号"},{min:2,max:20,message:"用户账号长度必须介于 2 和 20 之间",trigger:"blur"}],password:[{required:!0,trigger:"blur",message:"请输入您的密码"},{min:5,max:20,message:"用户密码长度必须介于 5 和 20 之间",trigger:"blur"}],confirmPassword:[{required:!0,trigger:"blur",message:"请再次输入您的密码"},{required:!0,validator:t,trigger:"blur"}],code:[{required:!0,trigger:"change",message:"请输入验证码"},{required:!0,validator:r,trigger:"change"}]},loading:!1,captchaEnabled:s["default"].captchaEnabled}},created:function(){},watch:{imgCode:function(e){console.log(e)}},methods:{handleBack:function(){this.$parent.currentPage=0},handleRegister:function(){var e=this;this.$refs.registerForm.validate((function(t){t&&(e.loading=!0,Object(i["e"])(e.registerForm).then((function(t){var r=e.registerForm.username;e.$alert("<font color='red'>恭喜你，您的账号 "+r+" 注册成功！</font>","系统提示",{dangerouslyUseHTMLString:!0,type:"success"}).then((function(){e.$router.push("/login"),e.handleBack()})).catch((function(){}))})).catch((function(){e.loading=!1,e.captchaEnabled&&e.$refs.ReImageVerify.getImgCode()})))}))}}},c=l,u=r("2877"),d=Object(u["a"])(c,n,o,!1,null,null,null);t["default"]=d.exports},"6ed6":function(e,t,r){},"72b7":function(e,t,r){"use strict";r("6ed6")},7609:function(e,t,r){var n={"./env.development":"259b","./env.development.js":"259b","./env.production":"f1e0","./env.production.js":"f1e0","./env.staging":"e101","./env.staging.js":"e101"};function o(e){var t=i(e);return r(t)}function i(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=i,e.exports=o,o.id="7609"},"81d5":function(e,t,r){"use strict";var n=r("7b0b"),o=r("23cb"),i=r("07fa");e.exports=function(e){var t=n(this),r=i(t),a=arguments.length,s=o(a>1?arguments[1]:void 0,r),l=a>2?arguments[2]:void 0,c=void 0===l?r:o(l,r);while(c>s)t[s++]=e;return t}},"908f":function(e,t,r){"use strict";r.r(t),t["default"]={isShowRegister:!0,isShowForget:!0,captchaEnabled:!1,verifyBtnText:"获取验证码",verifyBtnTime:60}},"96e4":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.updateRules}},[r("el-form-item",{attrs:{prop:"phone"}},[r("el-input",{attrs:{type:"text",placeholder:"手机号",clearable:""},model:{value:e.loginForm.phone,callback:function(t){e.$set(e.loginForm,"phone",t)},expression:"loginForm.phone"}},[r("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"phone"},slot:"prefix"})],1)],1),r("el-form-item",{attrs:{prop:"verifyCode"}},[r("el-input",{attrs:{type:"text",placeholder:"验证码",clearable:""},model:{value:e.loginForm.verifyCode,callback:function(t){e.$set(e.loginForm,"verifyCode",t)},expression:"loginForm.verifyCode"}},[r("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"validCode"},slot:"prefix"}),r("div",{attrs:{slot:"append"},slot:"append"},[r("el-button",{staticClass:"ml-2",attrs:{disabled:e.isDisabled},on:{click:e.handleGetCode}},[e._v(" "+e._s(e.isDisabled?e.countdown+"秒后重发":e.verifyBtnText)+" ")])],1)],1)],1),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{type:"password",placeholder:"密码","show-password":"",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}},[r("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"password"},slot:"prefix"})],1)],1),r("el-form-item",{attrs:{prop:"repeatPassword"}},[r("el-input",{attrs:{type:"password",placeholder:"确认密码","show-password":"",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.repeatPassword,callback:function(t){e.$set(e.loginForm,"repeatPassword",t)},expression:"loginForm.repeatPassword"}},[r("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"password"},slot:"prefix"})],1)],1),r("el-form-item",{staticStyle:{width:"100%"}},[r("el-button",{staticStyle:{width:"100%"},attrs:{loading:e.loading,size:"medium",type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e.loading?r("span",[e._v("加 载 中...")]):r("span",[e._v("确 定")])])],1),r("el-form-item",{staticStyle:{width:"100%"}},[r("el-button",{staticStyle:{width:"100%"},attrs:{loading:e.loading,size:"medium"},on:{click:e.handleBack}},[e._v("返 回")])],1)],1)],1)},o=[],i=r("5530"),a=(r("21f2"),r("bd71")),s=r("908f"),l=null,c={name:"Update",data:function(){var e=this,t=[{validator:function(t,r,n){""===r?n(new Error("请输入确认密码")):e.loginForm.password!==r?n(new Error("两次密码不一致!")):n()},trigger:["blur","change"]}];return{verifyBtnText:s["default"].verifyBtnText,countdown:0,loginForm:{phone:"",verifyCode:"",password:"",repeatPassword:""},loading:!1,updateRules:Object(i["a"])({repeatPassword:t},a["updateRules"])}},computed:{isDisabled:function(){return 0!==this.countdown}},watch:{},created:function(){},methods:{handleGetCode:function(){var e=this;l||(this.countdown=s["default"].verifyBtnTime,l=setInterval((function(){e.countdown--,0===e.countdown&&clearInterval(l)}),1e3))},handleBack:function(){this.countdown=0,this.verifyBtnText=s["default"].verifyBtnText,clearInterval(l),l=null,this.$parent.currentPage=0},handleLogin:function(){this.$refs.loginForm.validate((function(e){e&&alert(1)}))}}},u=c,d=r("2877"),p=Object(d["a"])(u,n,o,!1,null,null,null);t["default"]=p.exports},"9ed6":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("img",{staticClass:"wave",attrs:{src:e.bg}}),r("div",{staticClass:"login-container"},[r("div"),r("div",{staticClass:"login"},[r("h3",{staticClass:"title"},[e._v(e._s(e.title))]),0===e.currentPage?r("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules}},[r("el-form-item",{attrs:{prop:"username"}},[r("el-input",{attrs:{type:"text",placeholder:"账号",clearable:""},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}},[r("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"user"},slot:"prefix"})],1)],1),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{type:"password",placeholder:"密码","show-password":"",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}},[r("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"password"},slot:"prefix"})],1)],1),e.captchaEnabled?r("el-form-item",{attrs:{prop:"code"}},[r("el-input",{staticStyle:{width:"63%"},attrs:{placeholder:"验证码",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.code,callback:function(t){e.$set(e.loginForm,"code",t)},expression:"loginForm.code"}},[r("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"validCode"},slot:"prefix"})],1),r("div",{staticClass:"login-code"},[r("ReImageVerify",{ref:"ReImageVerify",attrs:{code:e.imgCode},on:{"update:code":function(t){e.imgCode=t}}})],1)],1):e._e(),r("el-form-item",[r("div",{staticClass:"w-full flex justify-between items-center"},[r("el-checkbox",{model:{value:e.loginForm.rememberMe,callback:function(t){e.$set(e.loginForm,"rememberMe",t)},expression:"loginForm.rememberMe"}},[e._v("记住密码")]),e.isShowForget?r("el-button",{attrs:{type:"text"},on:{click:e.handleToUpdate}},[e._v("忘记密码?")]):e._e()],1)]),r("el-form-item",{staticStyle:{width:"100%"}},[r("el-button",{staticStyle:{width:"100%"},attrs:{loading:e.loading,size:"medium",type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e.loading?r("span",[e._v("登 录 中...")]):r("span",[e._v("登 录")])]),e.register?r("div",{staticStyle:{float:"right"}},[r("el-button",{attrs:{type:"text"},on:{click:function(t){e.currentPage=3}}},[e._v("立即注册")])],1):e._e()],1)],1):e._e(),4===e.currentPage?r("update"):e._e(),3===e.currentPage?r("register"):e._e()],1)])])},o=[],i=r("852e"),a=r.n(i),s=r("f5d7"),l=r("96e4"),c=r("6c2f"),u=r("21f2"),d=r("908f"),p=r("0839"),f=r.n(p),g=r("f121"),m={name:"Login",components:{ReImageVerify:s["a"],update:l["default"],register:c["default"]},data:function(){var e=this,t=function(t,r,n){e.imgCode!==r?n(new Error("请输入正确的验证码")):n()};return{bg:f.a,title:g["title"],imgCode:"",loginForm:{username:"admin",password:"admin123",rememberMe:!1,code:"",uuid:""},loginRules:{username:[{required:!0,trigger:"blur",message:"请输入您的账号"}],password:[{required:!0,trigger:"blur",message:"请输入您的密码"}],code:[{required:!0,trigger:"change",message:"请输入验证码"},{required:!0,validator:t,trigger:"change"}]},loading:!1,captchaEnabled:d["default"].captchaEnabled,register:d["default"].isShowRegister,isShowForget:d["default"].isShowForget,redirect:void 0,currentPage:0}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0},imgCode:function(e){console.log(e)}},created:function(){this.getCookie()},methods:{getCookie:function(){var e=a.a.get("username"),t=a.a.get("password"),r=a.a.get("rememberMe");this.loginForm={username:void 0===e?this.loginForm.username:e,password:void 0===t?this.loginForm.password:Object(u["a"])(t),rememberMe:void 0!==r&&Boolean(r)}},handleToUpdate:function(){this.currentPage=4},handleLogin:function(){var e=this;this.$refs.loginForm.validate((function(t){t&&(e.loading=!0,e.loginForm.rememberMe?(a.a.set("username",e.loginForm.username,{expires:30}),a.a.set("password",Object(u["b"])(e.loginForm.password),{expires:30}),a.a.set("rememberMe",e.loginForm.rememberMe,{expires:30})):(a.a.remove("username"),a.a.remove("password"),a.a.remove("rememberMe")),e.$store.dispatch("Login",e.loginForm).then((function(){e.$router.push({path:e.redirect||"/"}).catch((function(){}))})).catch((function(){e.loading=!1,e.captchaEnabled&&e.$refs.ReImageVerify.getImgCode()})))}))}}},h=m,v=(r("72b7"),r("2877")),w=Object(v["a"])(h,n,o,!1,null,null,null);t["default"]=w.exports},bd71:function(e,t,r){"use strict";r.r(t),r.d(t,"REGEXP_SIX",(function(){return n})),r.d(t,"REGEXP_PWD",(function(){return o})),r.d(t,"isPhone",(function(){return i})),r.d(t,"updateRules",(function(){return a}));r("ac1f"),r("00b4");var n=/^\d{6}$/,o=/^(?![0-9]+$)(?![a-z]+$)(?![A-Z]+$)(?!([^(0-9a-zA-Z)]|[()])+$)(?!^.*[\u4E00-\u9FA5].*$)([^(0-9a-zA-Z)]|[()]|[a-z]|[A-Z]|[0-9]){8,18}$/;function i(e){var t=/^[1](([3][0-9])|([4][0,1,4-9])|([5][0-3,5-9])|([6][2,5,6,7])|([7][0-8])|([8][0-9])|([9][0-3,5-9]))[0-9]{8}$/;return t.test(e)}var a={phone:[{validator:function(e,t,r){""===t?r(new Error("请输入手机号码")):i(t)?r():r(new Error("请输入正确的手机号码格式"))},trigger:["blur","change"]}],verifyCode:[{validator:function(e,t,r){""===t?r(new Error("请输入验证码")):n.test(t)?r():r(new Error("请输入6位数字验证码"))},trigger:["blur","change"]}],password:[{validator:function(e,t,r){""===t?r(new Error("请输入密码")):o.test(t)?r():r(new Error("密码格式应为8-18位数字、字母、符号的任意两种组合"))},trigger:["blur","change"]}]}},cb29:function(e,t,r){var n=r("23e7"),o=r("81d5"),i=r("44d2");n({target:"Array",proto:!0},{fill:o}),i("fill")},e101:function(e,t){e.exports={title:"vue-h5-template",baseUrl:"http://localhost:9018",baseApi:"https://test.xxx.com/api",APPID:"xxx",APPSECRET:"xxx",$cdn:"https://www.sunniejs.cn/static"}},f121:function(e,t,r){var n="production";console.log("读取".concat("production","环境的配置"));var o=r("7609")("./env."+n);e.exports=o},f1e0:function(e,t){e.exports={title:"vue-h5-template",baseUrl:"http://localhost:9018",baseApi:"https://test.xxx.com/api",APPID:"xxx",APPSECRET:"xxx",$cdn:"https://www.sunniejs.cn/static"}},f5d7:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("canvas",{ref:"domRef",staticClass:"cursor-pointer",attrs:{width:"120",height:"34"},on:{click:e.getImgCode}})])},o=[];r("cb29"),r("99af");function i(e,t,r){var n="",o="0123456789",i=e.getContext("2d");if(!i)return n;i.fillStyle=s(180,230),i.fillRect(0,0,t,r);for(var l=0;l<4;l+=1){var c=o[a(0,o.length)];n+=c;var u=a(18,41),d=a(-30,30);i.font="".concat(u,"px Simhei"),i.textBaseline="top",i.fillStyle=s(80,150),i.save(),i.translate(30*l+15,15),i.rotate(d*Math.PI/180),i.fillText(c,-10,-15),i.restore()}for(var p=0;p<5;p+=1)i.beginPath(),i.moveTo(a(0,t),a(0,r)),i.lineTo(a(0,t),a(0,r)),i.strokeStyle=s(180,230),i.closePath(),i.stroke();for(var f=0;f<41;f+=1)i.beginPath(),i.arc(a(0,t),a(0,r),1,0,2*Math.PI),i.closePath(),i.fillStyle=s(150,200),i.fill();return n}function a(e,t){var r=Math.floor(Math.random()*(t-e)+e);return r}function s(e,t){var r=a(e,t),n=a(e,t),o=a(e,t);return"rgb(".concat(r,",").concat(n,",").concat(o,")")}var l={name:"ReImageVerify",props:{code:{type:String,default:""}},data:function(){return{domRef:"",imgCode:""}},watch:{code:function(e){this.setImgCode(e)},imgCode:function(e){this.$emit("update:code",e)}},mounted:function(){this.getImgCode()},methods:{setImgCode:function(e){this.imgCode=e},getImgCode:function(){this.$refs.domRef&&(this.imgCode=i(this.$refs.domRef,120,38))}}},c=l,u=r("2877"),d=Object(u["a"])(c,n,o,!1,null,null,null);t["a"]=d.exports}}]);