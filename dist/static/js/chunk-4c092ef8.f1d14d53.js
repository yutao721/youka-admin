(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4c092ef8","chunk-2d0e457b"],{"6c2f":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-form",{ref:"registerForm",staticClass:"register-form",attrs:{model:e.registerForm,rules:e.registerRules}},[r("el-form-item",{attrs:{prop:"username"}},[r("el-input",{attrs:{type:"text",clearable:"",placeholder:"账号"},model:{value:e.registerForm.username,callback:function(t){e.$set(e.registerForm,"username",t)},expression:"registerForm.username"}},[r("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"user"},slot:"prefix"})],1)],1),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{type:"password",clearable:"","show-password":"",placeholder:"密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleRegister(t)}},model:{value:e.registerForm.password,callback:function(t){e.$set(e.registerForm,"password",t)},expression:"registerForm.password"}},[r("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"password"},slot:"prefix"})],1)],1),r("el-form-item",{attrs:{prop:"confirmPassword"}},[r("el-input",{attrs:{type:"password",clearable:"","show-password":"",placeholder:"确认密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleRegister(t)}},model:{value:e.registerForm.confirmPassword,callback:function(t){e.$set(e.registerForm,"confirmPassword",t)},expression:"registerForm.confirmPassword"}},[r("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"password"},slot:"prefix"})],1)],1),e.captchaEnabled?r("el-form-item",{attrs:{prop:"code"}},[r("el-input",{staticStyle:{width:"63%"},attrs:{clearable:"",placeholder:"验证码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleRegister(t)}},model:{value:e.registerForm.code,callback:function(t){e.$set(e.registerForm,"code",t)},expression:"registerForm.code"}},[r("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"validCode"},slot:"prefix"})],1),r("div",{staticClass:"login-code"},[r("ReImageVerify",{ref:"ReImageVerify",attrs:{code:e.imgCode},on:{"update:code":function(t){e.imgCode=t}}})],1)],1):e._e(),r("el-form-item",{staticStyle:{width:"100%"}},[r("el-button",{staticStyle:{width:"100%"},attrs:{loading:e.loading,size:"medium",type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleRegister(t)}}},[e.loading?r("span",[e._v("注 册 中...")]):r("span",[e._v("注 册")])]),r("div",{staticStyle:{float:"right"}},[r("el-button",{attrs:{type:"text"},on:{click:e.handleBack}},[e._v("使用已有账户登录")])],1)],1)],1)],1)},o=[],n=r("7ded"),s=r("f5d7"),a=r("908f"),c={components:{ReImageVerify:s["a"]},data:function(){var e=this,t=function(t,r,i){e.registerForm.password!==r?i(new Error("两次输入的密码不一致")):i()},r=function(t,r,i){e.imgCode!==r?i(new Error("请输入正确的验证码")):i()};return{imgCode:"",registerForm:{username:"",password:"",confirmPassword:"",code:"",uuid:""},registerRules:{username:[{required:!0,trigger:"blur",message:"请输入您的账号"},{min:2,max:20,message:"用户账号长度必须介于 2 和 20 之间",trigger:"blur"}],password:[{required:!0,trigger:"blur",message:"请输入您的密码"},{min:5,max:20,message:"用户密码长度必须介于 5 和 20 之间",trigger:"blur"}],confirmPassword:[{required:!0,trigger:"blur",message:"请再次输入您的密码"},{required:!0,validator:t,trigger:"blur"}],code:[{required:!0,trigger:"change",message:"请输入验证码"},{required:!0,validator:r,trigger:"change"}]},loading:!1,captchaEnabled:a["default"].captchaEnabled}},created:function(){},watch:{imgCode:function(e){console.log(e)}},methods:{handleBack:function(){this.$parent.currentPage=0},handleRegister:function(){var e=this;this.$refs.registerForm.validate((function(t){t&&(e.loading=!0,Object(n["e"])(e.registerForm).then((function(t){var r=e.registerForm.username;e.$alert("<font color='red'>恭喜你，您的账号 "+r+" 注册成功！</font>","系统提示",{dangerouslyUseHTMLString:!0,type:"success"}).then((function(){e.$router.push("/login"),e.handleBack()})).catch((function(){}))})).catch((function(){e.loading=!1,e.captchaEnabled&&e.$refs.ReImageVerify.getImgCode()})))}))}}},l=c,d=r("2877"),u=Object(d["a"])(l,i,o,!1,null,null,null);t["default"]=u.exports},"81d5":function(e,t,r){"use strict";var i=r("7b0b"),o=r("23cb"),n=r("07fa");e.exports=function(e){var t=i(this),r=n(t),s=arguments.length,a=o(s>1?arguments[1]:void 0,r),c=s>2?arguments[2]:void 0,l=void 0===c?r:o(c,r);while(l>a)t[a++]=e;return t}},"908f":function(e,t,r){"use strict";r.r(t),t["default"]={isShowRegister:!0,isShowForget:!0,captchaEnabled:!1,verifyBtnText:"获取验证码",verifyBtnTime:60}},cb29:function(e,t,r){var i=r("23e7"),o=r("81d5"),n=r("44d2");i({target:"Array",proto:!0},{fill:o}),n("fill")},f5d7:function(e,t,r){"use strict";var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("canvas",{ref:"domRef",staticClass:"cursor-pointer",attrs:{width:"120",height:"34"},on:{click:e.getImgCode}})])},o=[];r("cb29"),r("99af");function n(e,t,r){var i="",o="0123456789",n=e.getContext("2d");if(!n)return i;n.fillStyle=a(180,230),n.fillRect(0,0,t,r);for(var c=0;c<4;c+=1){var l=o[s(0,o.length)];i+=l;var d=s(18,41),u=s(-30,30);n.font="".concat(d,"px Simhei"),n.textBaseline="top",n.fillStyle=a(80,150),n.save(),n.translate(30*c+15,15),n.rotate(u*Math.PI/180),n.fillText(l,-10,-15),n.restore()}for(var f=0;f<5;f+=1)n.beginPath(),n.moveTo(s(0,t),s(0,r)),n.lineTo(s(0,t),s(0,r)),n.strokeStyle=a(180,230),n.closePath(),n.stroke();for(var g=0;g<41;g+=1)n.beginPath(),n.arc(s(0,t),s(0,r),1,0,2*Math.PI),n.closePath(),n.fillStyle=a(150,200),n.fill();return i}function s(e,t){var r=Math.floor(Math.random()*(t-e)+e);return r}function a(e,t){var r=s(e,t),i=s(e,t),o=s(e,t);return"rgb(".concat(r,",").concat(i,",").concat(o,")")}var c={name:"ReImageVerify",props:{code:{type:String,default:""}},data:function(){return{domRef:"",imgCode:""}},watch:{code:function(e){this.setImgCode(e)},imgCode:function(e){this.$emit("update:code",e)}},mounted:function(){this.getImgCode()},methods:{setImgCode:function(e){this.imgCode=e},getImgCode:function(){this.$refs.domRef&&(this.imgCode=n(this.$refs.domRef,120,38))}}},l=c,d=r("2877"),u=Object(d["a"])(l,i,o,!1,null,null,null);t["a"]=u.exports}}]);