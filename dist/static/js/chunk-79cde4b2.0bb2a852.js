(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-79cde4b2","chunk-6eadb27f","chunk-2d0e457b","chunk-2d21ab92"],{"0839":function(e,t,n){e.exports=n.p+"static/img/bg.fcb5c96d.png"},"21f2":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));var o=n("24e5"),r=n.n(o),i="MFwwDQYJKoZIhvcNAQEBBQADSwAwSAJBAKoR8mX0rGKLqzcWmOzbfj64K8ZIgOdH\nnzkXSOVOZbFu/TJhZ7rFAN+eaGkl3C4buccQd/EjEsj9ir7ijT7h96MCAwEAAQ==",a="MIIBVAIBADANBgkqhkiG9w0BAQEFAASCAT4wggE6AgEAAkEAqhHyZfSsYourNxaY\n7Nt+PrgrxkiA50efORdI5U5lsW79MmFnusUA355oaSXcLhu5xxB38SMSyP2KvuKN\nPuH3owIDAQABAkAfoiLyL+Z4lf4Myxk6xUDgLaWGximj20CUf+5BKKnlrK+Ed8gA\nkM0HqoTt2UZwA5E2MzS4EI2gjfQhz5X28uqxAiEA3wNFxfrCZlSZHb0gn2zDpWow\ncSxQAgiCstxGUoOqlW8CIQDDOerGKH5OmCJ4Z21v+F25WaHYPxCFMvwxpcw99Ecv\nDQIgIdhDTIqD2jfYjPTY8Jj3EDGPbH2HHuffvflECt3Ek60CIQCFRlCkHpi7hthh\nYhovyloRYsM+IS9h/0BzlEAuO0ktMQIgSPT3aFAgJYwKpqRYKlLDVcflZFCKY7u3\nUP8iWi1Qw0Y=";function s(e){var t=new r.a;return t.setPublicKey(i),t.encrypt(e)}function l(e){var t=new r.a;return t.setPrivateKey(a),t.decrypt(e)}},"259b":function(e,t){e.exports={title:"游卡后台管理系统",baseUrl:"http://localhost:9018",baseApi:"/dev-api",APPID:"xxx",APPSECRET:"xxx",$cdn:"https://www.sunniejs.cn/static"}},3870:function(e,t,n){"use strict";n("4eb0")},"4eb0":function(e,t,n){},7609:function(e,t,n){var o={"./env.development":"259b","./env.development.js":"259b","./env.production":"f1e0","./env.production.js":"f1e0","./env.staging":"e101","./env.staging.js":"e101"};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id="7609"},"81d5":function(e,t,n){"use strict";var o=n("7b0b"),r=n("23cb"),i=n("07fa");e.exports=function(e){var t=o(this),n=i(t),a=arguments.length,s=r(a>1?arguments[1]:void 0,n),l=a>2?arguments[2]:void 0,c=void 0===l?n:r(l,n);while(c>s)t[s++]=e;return t}},"908f":function(e,t,n){"use strict";n.r(t),t["default"]={isShowRegister:!0,isShowForget:!0,captchaEnabled:!0,verifyBtnText:"获取验证码",verifyBtnTime:60}},"96e4":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.updateRules}},[n("el-form-item",{attrs:{prop:"phone"}},[n("el-input",{attrs:{type:"text",placeholder:"手机号",clearable:""},model:{value:e.loginForm.phone,callback:function(t){e.$set(e.loginForm,"phone",t)},expression:"loginForm.phone"}},[n("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"phone"},slot:"prefix"})],1)],1),n("el-form-item",{attrs:{prop:"verifyCode"}},[n("el-input",{attrs:{type:"text",placeholder:"验证码",clearable:""},model:{value:e.loginForm.verifyCode,callback:function(t){e.$set(e.loginForm,"verifyCode",t)},expression:"loginForm.verifyCode"}},[n("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"validCode"},slot:"prefix"}),n("div",{attrs:{slot:"append"},slot:"append"},[n("el-button",{staticClass:"ml-2",attrs:{disabled:e.isDisabled},on:{click:e.handleGetCode}},[e._v(" "+e._s(e.isDisabled?e.countdown+"秒后重发":e.verifyBtnText)+" ")])],1)],1)],1),n("el-form-item",{attrs:{prop:"password"}},[n("el-input",{attrs:{type:"password",placeholder:"密码","show-password":"",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}},[n("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"password"},slot:"prefix"})],1)],1),n("el-form-item",{attrs:{prop:"repeatPassword"}},[n("el-input",{attrs:{type:"password",placeholder:"确认密码","show-password":"",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.repeatPassword,callback:function(t){e.$set(e.loginForm,"repeatPassword",t)},expression:"loginForm.repeatPassword"}},[n("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"password"},slot:"prefix"})],1)],1),n("el-form-item",{staticStyle:{width:"100%"}},[n("el-button",{staticStyle:{width:"100%"},attrs:{loading:e.loading,size:"medium",type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e.loading?n("span",[e._v("加 载 中...")]):n("span",[e._v("确 定")])])],1),n("el-form-item",{staticStyle:{width:"100%"}},[n("el-button",{staticStyle:{width:"100%"},attrs:{loading:e.loading,size:"medium"},on:{click:e.handleBack}},[e._v("返 回")])],1)],1)],1)},r=[],i=n("5530"),a=(n("21f2"),n("bd71")),s=n("908f"),l=null,c={name:"Update",data:function(){var e=this,t=[{validator:function(t,n,o){""===n?o(new Error("请输入确认密码")):e.loginForm.password!==n?o(new Error("两次密码不一致!")):o()},trigger:["blur","change"]}];return{verifyBtnText:s["default"].verifyBtnText,countdown:0,loginForm:{phone:"",verifyCode:"",password:"",repeatPassword:""},loading:!1,updateRules:Object(i["a"])({repeatPassword:t},a["updateRules"])}},computed:{isDisabled:function(){return 0!==this.countdown}},watch:{},created:function(){},methods:{handleGetCode:function(){var e=this;l||(this.countdown=s["default"].verifyBtnTime,l=setInterval((function(){e.countdown--,0===e.countdown&&clearInterval(l)}),1e3))},handleBack:function(){this.countdown=0,this.verifyBtnText=s["default"].verifyBtnText,clearInterval(l),l=null,this.$parent.currentPage=0},handleLogin:function(){this.$refs.loginForm.validate((function(e){e&&alert(1)}))}}},u=c,d=n("2877"),p=Object(d["a"])(u,o,r,!1,null,null,null);t["default"]=p.exports},bd71:function(e,t,n){"use strict";n.r(t),n.d(t,"REGEXP_SIX",(function(){return o})),n.d(t,"REGEXP_PWD",(function(){return r})),n.d(t,"isPhone",(function(){return i})),n.d(t,"updateRules",(function(){return a}));n("ac1f"),n("00b4");var o=/^\d{6}$/,r=/^(?![0-9]+$)(?![a-z]+$)(?![A-Z]+$)(?!([^(0-9a-zA-Z)]|[()])+$)(?!^.*[\u4E00-\u9FA5].*$)([^(0-9a-zA-Z)]|[()]|[a-z]|[A-Z]|[0-9]){8,18}$/;function i(e){var t=/^[1](([3][0-9])|([4][0,1,4-9])|([5][0-3,5-9])|([6][2,5,6,7])|([7][0-8])|([8][0-9])|([9][0-3,5-9]))[0-9]{8}$/;return t.test(e)}var a={phone:[{validator:function(e,t,n){""===t?n(new Error("请输入手机号码")):i(t)?n():n(new Error("请输入正确的手机号码格式"))},trigger:["blur","change"]}],verifyCode:[{validator:function(e,t,n){""===t?n(new Error("请输入验证码")):o.test(t)?n():n(new Error("请输入6位数字验证码"))},trigger:["blur","change"]}],password:[{validator:function(e,t,n){""===t?n(new Error("请输入密码")):r.test(t)?n():n(new Error("密码格式应为8-18位数字、字母、符号的任意两种组合"))},trigger:["blur","change"]}]}},cb29:function(e,t,n){var o=n("23e7"),r=n("81d5"),i=n("44d2");o({target:"Array",proto:!0},{fill:r}),i("fill")},dd7b:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("img",{staticClass:"wave",attrs:{src:e.bg}}),n("div",{staticClass:"login-container"},[n("div"),n("div",{staticClass:"login"},[n("h3",{staticClass:"title"},[e._v(e._s(e.title))]),0===e.currentPage?n("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules}},[n("el-form-item",{attrs:{prop:"username"}},[n("el-input",{attrs:{type:"text",placeholder:"账号",clearable:""},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}},[n("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"user"},slot:"prefix"})],1)],1),n("el-form-item",{attrs:{prop:"password"}},[n("el-input",{attrs:{type:"password",placeholder:"密码","show-password":"",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}},[n("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"password"},slot:"prefix"})],1)],1),e.captchaEnabled?n("el-form-item",{attrs:{prop:"code"}},[n("el-input",{staticStyle:{width:"63%"},attrs:{placeholder:"验证码",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.code,callback:function(t){e.$set(e.loginForm,"code",t)},expression:"loginForm.code"}},[n("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"validCode"},slot:"prefix"})],1),n("div",{staticClass:"login-code"},[n("ReImageVerify",{ref:"ReImageVerify",attrs:{code:e.imgCode},on:{"update:code":function(t){e.imgCode=t}}})],1)],1):e._e(),n("el-form-item",[n("div",{staticClass:"w-full flex justify-between items-center"},[n("el-checkbox",{model:{value:e.loginForm.rememberMe,callback:function(t){e.$set(e.loginForm,"rememberMe",t)},expression:"loginForm.rememberMe"}},[e._v("记住密码")]),n("el-button",{attrs:{type:"text"},on:{click:e.handleToUpdate}},[e._v("忘记密码?")])],1)]),n("el-form-item",{staticStyle:{width:"100%"}},[n("el-button",{staticStyle:{width:"100%"},attrs:{loading:e.loading,size:"medium",type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e.loading?n("span",[e._v("登 录 中...")]):n("span",[e._v("登 录")])]),e.register?n("div",{staticStyle:{float:"right"}},[n("router-link",{staticClass:"link-type",attrs:{to:"/register"}},[e._v("立即注册")])],1):e._e()],1)],1):e._e(),4===e.currentPage?n("update"):e._e()],1)])])},r=[],i=n("852e"),a=n.n(i),s=n("f5d7"),l=n("96e4"),c=n("21f2"),u=n("0839"),d=n.n(u),p=n("f121"),f={name:"Login",components:{ReImageVerify:s["a"],update:l["default"]},data:function(){var e=this,t=function(t,n,o){e.imgCode!==n?o(new Error("请输入正确的验证码")):o()};return{bg:d.a,title:p["title"],imgCode:"",loginForm:{username:"admin",password:"admin123",rememberMe:!1,code:"",uuid:""},loginRules:{username:[{required:!0,trigger:"blur",message:"请输入您的账号"}],password:[{required:!0,trigger:"blur",message:"请输入您的密码"}],code:[{required:!0,trigger:"change",message:"请输入验证码"},{required:!0,validator:t,trigger:"change"}]},loading:!1,captchaEnabled:!0,register:!0,redirect:void 0,currentPage:4}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0},imgCode:function(e){console.log(e)}},created:function(){this.getCookie()},methods:{getCookie:function(){var e=a.a.get("username"),t=a.a.get("password"),n=a.a.get("rememberMe");this.loginForm={username:void 0===e?this.loginForm.username:e,password:void 0===t?this.loginForm.password:Object(c["a"])(t),rememberMe:void 0!==n&&Boolean(n)}},handleToUpdate:function(){this.currentPage=4},handleLogin:function(){var e=this;this.$refs.loginForm.validate((function(t){t&&(e.loading=!0,e.loginForm.rememberMe?(a.a.set("username",e.loginForm.username,{expires:30}),a.a.set("password",Object(c["b"])(e.loginForm.password),{expires:30}),a.a.set("rememberMe",e.loginForm.rememberMe,{expires:30})):(a.a.remove("username"),a.a.remove("password"),a.a.remove("rememberMe")),e.$store.dispatch("Login",e.loginForm).then((function(){e.$router.push({path:e.redirect||"/"}).catch((function(){}))})).catch((function(){e.loading=!1,e.captchaEnabled&&e.$refs.ReImageVerify.getImgCode()})))}))}}},m=f,g=(n("3870"),n("2877")),h=Object(g["a"])(m,o,r,!1,null,null,null);t["default"]=h.exports},e101:function(e,t){e.exports={title:"vue-h5-template",baseUrl:"http://localhost:9018",baseApi:"https://test.xxx.com/api",APPID:"xxx",APPSECRET:"xxx",$cdn:"https://www.sunniejs.cn/static"}},f121:function(e,t,n){var o="production";console.log("读取".concat("production","环境的配置"));var r=n("7609")("./env."+o);e.exports=r},f1e0:function(e,t){e.exports={title:"vue-h5-template",baseUrl:"http://localhost:9018",baseApi:"https://test.xxx.com/api",APPID:"xxx",APPSECRET:"xxx",$cdn:"https://www.sunniejs.cn/static"}},f5d7:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("canvas",{ref:"domRef",staticClass:"cursor-pointer",attrs:{width:"120",height:"34"},on:{click:e.getImgCode}})])},r=[];n("cb29"),n("99af");function i(e,t,n){var o="",r="0123456789",i=e.getContext("2d");if(!i)return o;i.fillStyle=s(180,230),i.fillRect(0,0,t,n);for(var l=0;l<4;l+=1){var c=r[a(0,r.length)];o+=c;var u=a(18,41),d=a(-30,30);i.font="".concat(u,"px Simhei"),i.textBaseline="top",i.fillStyle=s(80,150),i.save(),i.translate(30*l+15,15),i.rotate(d*Math.PI/180),i.fillText(c,-10,-15),i.restore()}for(var p=0;p<5;p+=1)i.beginPath(),i.moveTo(a(0,t),a(0,n)),i.lineTo(a(0,t),a(0,n)),i.strokeStyle=s(180,230),i.closePath(),i.stroke();for(var f=0;f<41;f+=1)i.beginPath(),i.arc(a(0,t),a(0,n),1,0,2*Math.PI),i.closePath(),i.fillStyle=s(150,200),i.fill();return o}function a(e,t){var n=Math.floor(Math.random()*(t-e)+e);return n}function s(e,t){var n=a(e,t),o=a(e,t),r=a(e,t);return"rgb(".concat(n,",").concat(o,",").concat(r,")")}var l={name:"ReImageVerify",props:{code:{type:String,default:""}},data:function(){return{domRef:"",imgCode:""}},watch:{code:function(e){this.setImgCode(e)},imgCode:function(e){this.$emit("update:code",e)}},mounted:function(){this.getImgCode()},methods:{setImgCode:function(e){this.imgCode=e},getImgCode:function(){this.$refs.domRef&&(this.imgCode=i(this.$refs.domRef,120,38))}}},c=l,u=n("2877"),d=Object(u["a"])(c,o,r,!1,null,null,null);t["a"]=d.exports}}]);